{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAASC,SAASC,cAAc,kBAChCC,EAAUH,EAAOE,cAAc,uBAC/BE,EAAaJ,EAAOE,cAAc,4BAClCG,EAAWL,EAAOE,cAAc,yBAEtCF,EAAOM,iBAAiB,SAAS,EAAAR,EAAAS,UAUjC,SAAwBC,GACtBC,EAASD,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MAEnC,MAAMC,EAAiB,IAAKC,KAAmBL,GACzCM,EAAiBC,KAAKC,UAAUJ,GAEtCK,aAAaC,QAvBM,sBAuBgBJ,GAEnCD,EAAiBD,C,GAlBuC,MAC1DR,EAASC,iBAAiB,SAyB1B,SAAsBE,GACpBA,EAAEY,iBAEFF,aAAaG,WApCM,uBAqCnBC,QAAQC,IAAIT,GAEZd,EAAOwB,QAEPf,EAAW,GAEXK,EAAiB,GACjBW,G,IAlCF,IAAIhB,EAAW,GAEf,MAAMiB,EAAiBR,aAAaS,QAZf,uBAarB,IAAIb,EAAiBY,EAAiBV,KAAKY,MAAMF,GAAkB,GAenE,SAASD,IACPtB,EAAQS,MAAQE,EAAee,OAAS,GACxCzB,EAAWQ,MAAQE,EAAegB,SAAW,E,CAf/CL","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash-es/throttle';\n\nconst FEEDBACK_KEY = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = formEl.querySelector('input[name=\"email\"]');\nconst textareaEl = formEl.querySelector('textarea[name=\"message\"]');\nconst buttonEl = formEl.querySelector('button[type=\"submit\"]');\n\nformEl.addEventListener('input', throttle(onSaveFormData, 500));\nbuttonEl.addEventListener('click', onSubmitForm);\n\nlet formData = {};\n\nconst stringFormData = localStorage.getItem(FEEDBACK_KEY);\nlet parsedFormData = stringFormData ? JSON.parse(stringFormData) : {};\n\nsetInputsValue();\n\nfunction onSaveFormData(e) {\n  formData[e.target.name] = e.target.value;\n\n  const mergedFormData = { ...parsedFormData, ...formData };\n  const stringFormData = JSON.stringify(mergedFormData);\n\n  localStorage.setItem(FEEDBACK_KEY, stringFormData);\n\n  parsedFormData = mergedFormData;\n}\n\nfunction setInputsValue() {\n  inputEl.value = parsedFormData.email || '';\n  textareaEl.value = parsedFormData.message || '';\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n\n  localStorage.removeItem(FEEDBACK_KEY);\n  console.log(parsedFormData);\n\n  formEl.reset();\n\n  formData = {};\n\n  parsedFormData = {};\n  setInputsValue();\n}\n"],"names":["$2QaqY","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$textareaEl","$945622fd0f572e60$var$buttonEl","addEventListener","default","e","$945622fd0f572e60$var$formData","target","name","value","mergedFormData","$945622fd0f572e60$var$parsedFormData","stringFormData1","JSON","stringify","localStorage","setItem","preventDefault","removeItem","console","log","reset","$945622fd0f572e60$var$setInputsValue","$945622fd0f572e60$var$stringFormData","getItem","parse","email","message"],"version":3,"file":"03-feedback.1a2bda9e.js.map"}